<CornerBox@BoxLayout>:
    orientation: 'vertical'
    padding: [10]
    spacing: 10
    size_hint: None, None

<CornerItemBox@BoxLayout>:
    orientation: 'horizontal'
    padding: [5]

<SideItemBox@BoxLayout>:
    orientation: 'vertical'
    padding: [5]
    size_hint: None, None
    size: 100, self.parent.height - self.parent.padding[0] - self.padding[0]

<SideBox@BoxLayout>:
    orientation: 'horizontal'
    padding: [10]
    spacing: 10
    size_hint: None, None


<CountLabel@Label>:
    size_hint: None, None
    size: 120, self.parent.height - self.parent.parent.spacing

<IdeologyMeter@BoxLayout>:
    orientation: 'horizontal'
    padding: [0]
    spacing: 0
    size_hint: None, None
    size: 100, self.parent.height - self.parent.spacing - self.parent.parent.spacing
    canvas:
        Color:
            rgba: (100,0,0,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10,10,10,10]

<IdeologyFill@Label>:
    size_hint: None, None
    pos: 0,0
    canvas:
        Color:
            rgba: (0,100,0,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [5,5,5,5]


<MainScreen>:
    FloatLayout:
        BoxLayout:
            size_hint: None, None
            size: 200, 100
            pos: self.parent.width/2-100,self.parent.height - 250
            Button:
                text: 'Increase'
                on_press:
                    root.increase()
                    root.draw_card()
                    app.load_buttons()
        BoxLayout:
            size_hint: None, None
            size: 200, 100
            pos: self.parent.width/2 + 200,self.parent.height - 250
            Button:
                text: 'Discard'
                on_press:
                    root.discard_card()
        CornerBox:
            id: pops
            size: 400, len(self.children)*50
            pos: 0, self.parent.height - self.height
            canvas:
                Color:
                    rgba: (100,100,100,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,30,0]
            CornerItemBox:
                id: babies
                Label:
                    text: 'Babies:'
                CountLabel:
                    id: babies_count
                    text: str(app.stats['babies_count'])
                IdeologyMeter:
                    IdeologyFill:
                        id: babies_fill
                        size: app.stats['babies_approval'], self.parent.height
            CornerItemBox:
                id: children
                Label:
                    text: 'Children:'
                CountLabel:
                    id: children_count
                    text: str(app.stats['children_count'])
                IdeologyMeter:
                    IdeologyFill:
                        id: children_fill
                        size: app.stats['children_approval'], self.parent.height
            CornerItemBox:
                id: teens
                Label:
                    text: 'Teens:'
                CountLabel:
                    id: teens_count
                    text: str(app.stats['teens_count'])
                IdeologyMeter:
                    IdeologyFill:
                        id: teens_fill
                        size: app.stats['teens_approval'], self.parent.height
            CornerItemBox:
                id: settlers
                Label:
                    text: 'Settlers:'
                CountLabel:
                    id: settlers_count
                    text: str(app.stats['settlers_count'])
                IdeologyMeter:
                    IdeologyFill:
                        id: settlers_fill
                        size: app.stats['settlers_approval'], self.parent.height

        SideBox:
            id: status
            size: len(self.children)*200, 100
            pos: self.parent.width/2-self.width/2, self.parent.height-self.height
            canvas:
                Color:
                    rgba: (100,100,100,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,30,30]
            BoxLayout:
                orientation: 'vertical'
                padding: [5]
                Label:
                    text: 'Planet Habitability'
                Label:
                    id: planet_habitability
                    text: str(app.stats['planet_habitability'])
            SideItemBox:
                Label:
                    text: 'Year'
                Label:
                    id: year
                    text: str(app.stats['year'])
            SideItemBox:
                Label:
                    text: 'Day'
                Label:
                    id: day
                    text: str(app.stats['day'])

        CornerBox:
            id: modules
            size: 400, len(self.children)*50
            pos: self.parent.width-self.width, self.parent.height-self.height
            canvas:
                Color:
                    rgba: (100,100,100,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,0,30]
            CornerItemBox:
                Label:
                    text: 'Habitat Modules:'
                CountLabel:
                    id: habitat_modules
                    text: str(app.stats['habitat_modules'])
            CornerItemBox:
                Label:
                    text: 'Habitat Free Space:'
                CountLabel:
                    id: habitat_free_space
                    text: str(app.stats['habitat_free_space'])
            CornerItemBox:
                Label:
                    text: 'Greenhouse:'
                CountLabel:
                    id: greenhouse
                    text: str(app.stats['greenhouse_modules'])



<LoadingScreen>:
    FloatLayout:
        BoxLayout:
            size_hint: None, None
            size: 100, 100
            pos: self.parent.width/2,self.parent.height/2
            Button:
                text: 'Go to Main'
                on_press:
                    root.load_buttons()
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'main'
