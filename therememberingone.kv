<CornerBox@BoxLayout>:
    orientation: 'vertical'
    padding: [10]
    spacing: 10
    size_hint: None, None

<CornerItemBox@BoxLayout>:
    orientation: 'horizontal'
    padding: [5]

<SideItemBox@BoxLayout>:
    orientation: 'vertical'
    padding: [5]
    size_hint: None, None
    size: 100, self.parent.height - self.parent.padding[0] - self.padding[0]

<SideBox@BoxLayout>:
    orientation: 'horizontal'
    padding: [10]
    spacing: 10
    size_hint: None, None


<CountLabel@Label>:
    size_hint: None, None
    size: 120, self.parent.height - self.parent.parent.spacing

<IdeologyMeter@BoxLayout>:
    orientation: 'horizontal'
    padding: [0]
    spacing: 0
    size_hint: None, None
    size: 100, self.parent.height - self.parent.spacing - self.parent.parent.spacing
    canvas:
        Color:
            rgba: (100,100,100,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10,10,10,10]

<IdeologyFill@Label>:
    size_hint: None, None
    pos: 0,0
    canvas:
        Color:
            rgba: (0,100,0,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [5,5,5,5]


<MainScreen>:
    FloatLayout:
        BoxLayout:
            size_hint: None, None
            size: 100, 100
            pos: self.parent.width/2,self.parent.height/2
            Button:
                text: 'Increase'
                on_press:
                    root.increase()
                    app.load_buttons()
        CornerBox:
            id: pops
            size: 250, len(self.children)*50
            pos: 0, self.parent.height - self.height
            canvas:
                Color:
                    rgba: (200,0,0,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,30,0]
            CornerItemBox:
                id: babies
                Label:
                    text: 'Babies:'
                CountLabel:
                    id: babies_count
                    text: str(app.stats['pops']['babies'])
            CornerItemBox:
                id: children
                Label:
                    text: 'Children:'
                CountLabel:
                    id: children_count
                    text: str(app.stats['pops']['children'])
            CornerItemBox:
                id: teens
                Label:
                    text: 'Teens:'
                CountLabel:
                    id: teens_count
                    text: str(app.stats['pops']['teens'])
            CornerItemBox:
                id: settlers
                Label:
                    text: 'Settlers:'
                CountLabel:
                    id: settlers_count
                    text: str(app.stats['pops']['settlers'])

        SideBox:
            id: status
            size: len(self.children)*200, 100
            pos: self.parent.width/2-self.width/2, self.parent.height-self.height
            canvas:
                Color:
                    rgba: (200,0,0,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,30,30]
            BoxLayout:
                orientation: 'vertical'
                padding: [5]
                Label:
                    text: 'Planet Habitability'
                Label:
                    id: planet_habitability
                    text: str(app.stats['planet_habitability'])
            SideItemBox:
                Label:
                    text: 'Year'
                Label:
                    id: year
                    text: str(app.stats['year'])
            SideItemBox:
                Label:
                    text: 'Day'
                Label:
                    id: day
                    text: str(app.stats['day'])

        CornerBox:
            id: modules
            size: 350, len(self.children)*50
            pos: self.parent.width-self.width, self.parent.height-self.height
            canvas:
                Color:
                    rgba: (200,0,0,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,0,0,30]
            CornerItemBox:
                Label:
                    text: 'Habitation:'
                CountLabel:
                    id: habitation
                    text: str(app.stats['base_modules']['habitation'])
            CornerItemBox:
                Label:
                    text: 'Greenhouse:'
                CountLabel:
                    id: greenhouse
                    text: str(app.stats['base_modules']['greenhouse'])

        CornerBox:
            id: ideologies
            size: 400, len(self.children)*50
            pos: 0, 0
            canvas:
                Color:
                    rgba: (200,0,0,0.5)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [30,30,0,0]
            CornerItemBox:
                Label:
                    text: 'Anarchists:'
                IdeologyMeter:
                    IdeologyFill:
                        id: anarchists_fill
                        size: app.stats['ideologies']['anarchists'], self.parent.height
            CornerItemBox:
                Label:
                    text: 'Authoritarians:'
                IdeologyMeter:
                    IdeologyFill:
                        id: authoritarians_fill
                        size: app.stats['ideologies']['authoritarians'], self.parent.height
            CornerItemBox:
                Label:
                    text: 'Communitarians:'
                IdeologyMeter:
                    IdeologyFill:
                        id: communitarians_fill
                        size: app.stats['ideologies']['communitarians'], self.parent.height
            CornerItemBox:
                Label:
                    text: 'Communists:'
                IdeologyMeter:
                    IdeologyFill:
                        id: communists_fill
                        size: app.stats['ideologies']['communists'], self.parent.height
            CornerItemBox:
                Label:
                    text: 'Conservatives:'
                IdeologyMeter:
                    IdeologyFill:
                        id: conservatives_fill
                        size: app.stats['ideologies']['conservatives'], self.parent.height


<LoadingScreen>:
    FloatLayout:
        BoxLayout:
            size_hint: None, None
            size: 100, 100
            pos: self.parent.width/2,self.parent.height/2
            Button:
                text: 'Go to Main'
                on_press:
                    root.load_buttons()
                    root.manager.transition.direction = 'right'
                    root.manager.current = 'main'
